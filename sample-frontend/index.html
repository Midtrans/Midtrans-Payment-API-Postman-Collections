<!DOCTYPE html>
<html>
  <head>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  </head>

  <body>
    <button id="pay-button">Pay!</button>
    <h2 id="result-type"></h2>
    <pre id="result-data"></pre>

    <!-- Use this JS for sandbox -->
    <script src="https://app.sandbox.midtrans.com/snap/snap.js" data-client-key="<Your-Client-Key-Here>"></script>

    <!-- Use this JS for production -->
    <!-- <script src="https://app.midtrans.com/snap/snap.js"></script> -->

    <script type="text/javascript">
      var payButton = document.getElementById('pay-button');
      var resultType = document.getElementById('result-type');
      var resultData = document.getElementById('result-data');

      function changeResult(type,data){
        resultType.innerHTML = type;
        resultData.innerHTML = JSON.stringify(data);
      }
      payButton.onclick = function(){
        // Insert your own snap token here
        snap.pay('INSERT SNAP TOKEN HERE', 
              {
                // TODO implement these callbacks
                onSuccess: function(result){
                  console.log(result);
                  changeResult('success', result);
                },
                onPending: function(result){
                  console.log(result);
                  changeResult('pending', result);
                },
                onError: function(result){
                  console.log(result);
                  changeResult('error', result);
                },
                onClose: function () {
                  
                }
              })
        ;
      };
    </script>
  </body>
</html>
